$(function(){sessionStorage.getItem("token")||(sessionStorage.setItem("message","Please log in!"),location.href="login.html");new Vue({el:"#newdiaryForm",data:{title:"",isPublic:!1,text:"",hasSubmission:!1,error:void 0},methods:{onSubmit:function(){this.error=void 0,this.hasSubmission=!0;var t={token:sessionStorage.getItem("token"),title:this.title,public:this.isPublic,text:this.text};$.post(HOST+"/diary/create",JSON.stringify(t),function(t){t.status?(sessionStorage.setItem("message","You have created a new diary successfully!"),location.href="mydiary.html"):this.error=t.error,this.hasSubmission=!1}.bind(this))}}})});